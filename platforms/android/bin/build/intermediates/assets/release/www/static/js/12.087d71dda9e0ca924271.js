webpackJsonp([12],{"+N10":function(t,n,e){t.exports=e.p+"static/img/createlogo.7319209.png"},GIrV:function(t,n,e){n=t.exports=e("UTlt")(!1),n.push([t.i,'\n.vux-header[data-v-1ffdd92c] {\n  height: 40px;\n}\n.vux-header .vux-header-back[data-v-1ffdd92c] {\n  color: #ffffff!important;\n}\n.header[data-v-1ffdd92c] {\n  background-color: #3287fd!important;\n  position: relative;\n  color: #000000;\n  text-align: left;\n  line-height: 46px;\n  height: 50px;\n  font-size: 18px;\n}\n.header .left-arrow[data-v-1ffdd92c] {\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  top: 5px;\n  left: 8px;\n}\n.header .left-arrow[data-v-1ffdd92c]:before {\n  content: "";\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  border: 1px solid #000000;\n  border-width: 1px 0 0 1px;\n  -webkit-transform: rotate(315deg);\n  transform: rotate(315deg);\n  top: 8px;\n  left: 7px;\n}\n.hastop[data-v-1ffdd92c] {\n  margin-top: 10px;\n}\n.creat-box[data-v-1ffdd92c] {\n  padding: 0 20px;\n}\n.logo[data-v-1ffdd92c] {\n  height: 50px;\n}\n.logo-left[data-v-1ffdd92c] {\n  float: left;\n}\n.logo-left img[data-v-1ffdd92c] {\n  height: 50px;\n}\n.account-img[data-v-1ffdd92c] {\n  float: right;\n  height: 48px;\n  text-align: center;\n  width: 48px;\n  border-radius: 50%;\n  border: 1px solid #0b4acd;\n}\n.new-account-title[data-v-1ffdd92c] {\n  line-height: 27px;\n  font-size: 19px;\n  font-weight: 500;\n  color: #1c3c78;\n  text-align: left;\n  margin-top: 24px;\n  width: 100px;\n}\n.new-account-tip[data-v-1ffdd92c] {\n  line-height: 20px;\n  font-size: 13px;\n  color: #4776cf;\n  text-align: left;\n  width: 200px;\n  margin-bottom: 25px;\n}\n.input-item[data-v-1ffdd92c] {\n  margin-top: 9px;\n}\n.create-account-title[data-v-1ffdd92c] {\n  line-height: 25px;\n  font-size: 16px;\n  color: #222;\n  letter-spacing: 4px;\n}\n.weui-input[data-v-1ffdd92c] {\n  font-size: 18px;\n}\n.weui-cell[data-v-1ffdd92c] {\n  padding: 5px 0;\n  border-bottom: 1px solid #D9D9D9;\n  background: #f5f5f5!important;\n}\n.weui-cell[data-v-1ffdd92c]:before {\n  content: " ";\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  border-top: none;\n  color: #D9D9D9;\n  -webkit-transform-origin: 0 0;\n  transform-origin: 0 0;\n  -webkit-transform: scaleY(0.5);\n  transform: scaleY(0.5);\n  left: 15px;\n}\n.btn-wrap[data-v-1ffdd92c] {\n  width: 260px;\n  height: 45px;\n  margin: 0 auto;\n  margin-top: 28px;\n}\n.account-image-wrap[data-v-1ffdd92c] {\n  text-align: center;\n  padding: 30px 0;\n}\n.create-btn[data-v-1ffdd92c] {\n  width: 250px;\n  height: 39px;\n  border: 2px solid #d1b774;\n  background-color: #3287fd!important;\n  border-radius: 28px;\n  line-height: 39px;\n  font-size: 16px;\n}\n.has-account[data-v-1ffdd92c] {\n  color: #bbbbbb;\n  display: inline-block;\n  margin: 8px 0 0 10px;\n  font-size: 13px;\n  float: left;\n}\n',""])},w7qb:function(t,n,e){var a=e("GIrV");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("FIqI")("4ce83b0f",a,!0,{})},zL92:function(t,n,e){"use strict";function a(t){e("w7qb")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("lC5x"),c=e.n(o),i=e("3cXf"),r=e.n(i),s=e("27Wq"),l=e("UVwR"),d=e.n(l),p=e("iSpv"),u=e.n(p),h=e("qAah"),f=e.n(h),v=e("Z2Kc"),m=e("sB+r"),x=e("CKVb"),w=e("IXui"),g=e("fvyU"),b=e("f4gh"),_=(s.a,v.a,x.a,w.a,g.a,b.a,m.a,{components:{AccountImage:s.a,XHeader:v.a,Group:x.a,XButton:w.a,XInput:g.a,Toast:b.a,Box:m.a},data:function(){return{account:"",isAccount:!1,invite:"",error:"",createShow:!1,width:"7.6em",loading:!1,password:"",confirm:"",iconType:"",iconTypePwd:"",accountSuccess:!1,timerInt:null}},methods:{accountOnBlur:function(){this.validateAccount()},randomEosName:function(){this.account=this.$common.randomEosName(),this.validateAccountHttp()},InviteOnBlur:function(){console.log(this.invite)},validateAccount:function(){return this.account?/^[a-zA-Z1-5]{12}/.test(this.account)?void this.validateAccountHttp():(this.error=this.$t("wallet_create.one.error.account_format_error"),this.createShow=!0,this.width="18em",this.iconType="error",!1):(this.error=this.$t("wallet_create.one.error.empty_account"),this.createShow=!0,this.iconType="",this.width="8.5em",!1)},validateAccountHttp:function(){var t=this,n=this.account;this.$http.get(this.basePath+"/v1/chain/accounts/eos/"+n).then(function(n){return 400===n.data.code?(t.createShow=!1,t.isAccount=!0,t.iconType="success",!0):(t.error=t.$t("wallet_create.one.error.account_already_exist"),t.createShow=!0,t.iconType="error",t.width="18em",!1)}).catch(function(n){return t.error=t.$t("wallet_create.one.error.account_format_error"),t.createShow=!0,t.width="18em",t.iconType="error",!1})},confirmOnBlur:function(){return""===this.password?(this.error=this.$t("wallet_create.two.label.password"),this.createShow=!0,this.iconTypePwd="error",!1):(this.iconTypePwd="success",!0)},hasAccount:function(){this.$router.push("/account-import")},createAccount:function(t,n){var e=this;f()(c.a.mark(function a(){var o,i,s,l,p,h,f;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.randomKey();case 2:return o=a.sent,i=d.a.privateToPublic(o),a.next=6,d.a.randomKey();case 6:return s=a.sent,l=d.a.privateToPublic(s),p=u.a.encrypt(o,n).toString(),h=u.a.encrypt(s,n).toString(),f={params:{chainName:"eos",inviteCode:e.invite,accountName:t,keys:{active:i,owner:l}},wallet:{account:t,active:p,activePubkey:i,owner:h,ownerPubkey:l,backup_date:null}},a.next=13,e.$http.post(e.basePath+"/v1/chain/accounts/faucet",f.params).then(function(t){if(200===t.data.code){var n=e.$common.get_wallets(),a=e.$common.getStore("account");n.push(f.wallet),e.$store.commit("setAccount",f.params.accountName);var o=e.$common.encryption(r()(f.wallet),e.password);a.push({account:f.wallet.account,encryption:o}),e.$common.setStore("account",a),e.$common.set_wallets(n),e.$store.commit("UPDATE_WALLETS",n),e.$router.push({path:"/wallet-create-success",query:{account:f.params.accountName}}),e.$store.commit("upDataMsg",!1)}else e.error=e.$t("wallet_create.two.error.account_create_failed"),e.createShow=!0});case 13:case"end":return a.stop()}},a,this)})).catch(function(t){console.warn(t)})},submit:function(){this.isAccount&&this.password?(this.accountSuccess=!0,this.loading=!0,this.createAccount(this.account,this.password)):(this.error=this.$t("wallet_create.placeholder.step1"),this.createShow=!0)}}}),y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"creat-account",staticStyle:{overflow:"hidden"}},[t.$store.state.account?e("x-header",{attrs:{"left-options":{backText:"返回"}}}):e("x-header",{staticStyle:{"margin-bottom":"12px"},attrs:{"left-options":{showBack:!1}}}),t._v(" "),e("div",{staticClass:"creat-box",class:t.$store.state.account?"hastop":""},[e("div",{staticClass:"logo"},[t._m(0),t._v(" "),e("div",{staticClass:"account-img"},[e("account-image",{staticStyle:{margin:"8px 0 0 1px"},attrs:{account:t.account,size:16}})],1)]),t._v(" "),e("p",{staticClass:"new-account-title"},[t._v(t._s(t.$t("index.newAccount")))]),t._v(" "),e("p",{staticClass:"new-account-tip"},[t._v(t._s(t.$t("index.newAccountTip")))]),t._v(" "),e("div",{staticClass:"input-item"},[e("p",{staticClass:"create-account-title"},[t._v(t._s(t.$t("index.account_name")))]),t._v(" "),e("x-input",{attrs:{novalidate:"","icon-type":t.iconType,placeholder:t.$t("wallet_create.placeholder.step1"),min:12,max:12},on:{"on-blur":t.accountOnBlur},model:{value:t.account,callback:function(n){t.account=n},expression:"account"}},[e("x-button",{attrs:{slot:"right",type:"primary",mini:""},nativeOn:{click:function(n){return t.randomEosName(n)}},slot:"right"},[t._v(t._s(t.$t("index.random")))])],1)],1),t._v(" "),e("div",{staticClass:"input-item"},[e("p",{staticClass:"create-account-title"},[t._v(t._s(t.$t("wallet_create.placeholder.step2")))]),t._v(" "),e("x-input",{attrs:{novalidate:"","icon-type":t.iconTypePwd,type:"password",placeholder:t.$t("wallet_create.placeholder.step2")},on:{"on-enter":t.submit,"on-blur":t.confirmOnBlur},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),t._v(" "),e("div",{staticClass:"input-item"},[e("p",{staticClass:"create-account-title"},[t._v(t._s(t.$t("index.Invite")))]),t._v(" "),e("x-input",{attrs:{placeholder:t.$t("index.placeholderInvite")},on:{"on-blur":t.InviteOnBlur},model:{value:t.invite,callback:function(n){t.invite=n},expression:"invite"}})],1),t._v(" "),e("div",{staticClass:"btn-wrap"},[e("x-button",{attrs:{disabled:""===t.password,type:"primary"},nativeOn:{click:function(n){return t.submit(n)}}},[t._v(t._s(t.$t("wallet_create.create_account")))]),t._v(" "),e("a",{staticClass:"has-account",on:{click:t.hasAccount}},[t._v(t._s(t.$t("index.existing_account"))+"?")])],1)]),t._v(" "),e("toast",{attrs:{type:"warn",width:t.width},model:{value:t.createShow,callback:function(n){t.createShow=n},expression:"createShow"}},[t._v(t._s(t.error))])],1)},$=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"logo-left"},[a("img",{attrs:{src:e("+N10"),alt:""}})])}],S={render:y,staticRenderFns:$},k=S,A=e("vSla"),T=a,C=A(_,k,!1,T,"data-v-1ffdd92c",null);n.default=C.exports}});