webpackJsonp([18],{Pmkk:function(t,e,a){var o=a("zM+z");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("FIqI")("0545877b",o,!0,{})},hNWb:function(t,e,a){"use strict";function o(t){a("Pmkk")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("RX4P"),i=a.n(n),r=a("7AN4"),s=a.n(r),c=a("j5Bg"),h=a("Z2Kc"),u=a("CKVb"),d=a("fvyU"),l=a("sB+r"),w=a("f4gh"),m=a("IXui"),p=a("mqrw"),v=(u.a,d.a,h.a,l.a,w.a,m.a,c.a,p.a,{components:{Group:u.a,XInput:d.a,XHeader:h.a,Box:l.a,Toast:w.a,XButton:m.a,passwordConfirm:c.a,Alert:p.a},data:function(){return{ethAddress:"",amount:"",memo:"",show:!1,loading:!1,ethToast:!1,isUnlock:!1,btnTitle:this.$t("withdraw.next"),pwd:"",isSuccess:"warn",error:"",validateAmount:function(t){return{valid:t>20,msg:this.$t("withdraw.error.amount.minwithwrap")}},validateAccount:function(t){var e=null;return e=!!t.match("^0x[a-fA-F0-9]{40}$"),{valid:e,msg:this.$t("withdraw.accountError")}}}},methods:{validateEthAdd:function(){var t=this;return this.ethToast=!1,!!this.ethAddress.match("^0x[a-fA-F0-9]{40}$")||(t.error=t.$t("withdraw.accountError"),t.ethToast=!0,!1)},setUnlock:function(t){this.isUnlock=t},unlocking:function(t){this.pwd=t,this.loading=!0,this.isUnlock=!1,this.btnTitle=this.$t("withdraw.sending"),this.withdraw()},withdraw:function(){var t=this;if(this.amount>20){var e=this;try{var a=void 0;this.$common.getStore("account").map(function(t){t.account===e.$store.state.account&&(a=t)});var o=JSON.parse(this.$common.decryptActive(a.encryption,this.pwd)),n=this.$common.decryptActive(o.active,this.pwd);s.a.keyProvider=n;var r=i()(s.a),c=r.contract("sic.token");try{c.then(function(o){o.withdraw({from:a.account,quantity:e.amount+" SIC",memo:e.memo+Date.now()},{authorization:a.account}).then(function(a){e.$http.get(t.basePath+"/v1/coin/withdraw/"+a.transaction_id+"/"+e.ethAddress).then(function(a){e.isSuccess="success",e.show=!0,e.error=e.$t("withdraw.success.title"),e.loading=!1,e.btnTitle=e.$t("withdraw.success.title"),e.amount="",setTimeout(function(){e.$router.push("/withdraw?account="+t.$route.query.account)},500)}).catch(function(){e.loading=!1,e.show=!0,e.isSuccess="warn",e.error=e.$t("withdraw.tip")})}).catch(function(t){var a=JSON.parse(t);e.btnTitle=e.$t("withdraw.next"),e.loading=!1,e.show=!0,e.isSuccess="warn",e.error=a.error.details[0].message,e.amount="",e.memo=""})})}catch(t){e.loading=!1,e.show=!0,e.isSuccess="warn",e.error=e.$t("withdraw.tip"),e.amount="",e.memo=""}}catch(t){e.loading=!1,e.show=!0,e.isSuccess="warn",e.error=e.$t("unlock.error.invalid_password"),e.btnTitle=e.$t("withdraw.next")}}else this.loading=!1,this.show=!0,this.isSuccess="warn",this.error=this.$t("withdraw.tip"),this.amount="",this.memo=""},next:function(){this.isUnlock=!0}}}),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-header",{attrs:{"left-options":{backText:""}}},[t._v(t._s(t.$t("withdraw.extract")))]),t._v(" "),a("group",[a("x-input",{attrs:{title:t.$t("withdraw.to"),"label-width":"5.5em",required:"",placeholder:t.$t("withdraw.to_placeholder"),"is-type":t.validateAccount},model:{value:t.ethAddress,callback:function(e){t.ethAddress=e},expression:"ethAddress"}}),t._v(" "),a("x-input",{attrs:{title:t.$t("withdraw.amount"),type:"number","label-width":"4.5em",required:"",placeholder:t.$t("withdraw.amount_placeholder"),"is-type":t.validateAmount},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t._v(" "),a("x-input",{attrs:{title:t.$t("withdraw.memo"),"label-width":"4.5em",placeholder:t.$t("withdraw.memo")},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),t._v(" "),a("box",{attrs:{gap:"2.142857rem 1.071429rem"}},[a("x-button",{attrs:{disabled:!(t.ethAddress.match("^0x[a-fA-F0-9]{40}$")&&t.amount>.001),type:"primary","show-loading":t.loading},nativeOn:{click:function(e){return t.next(e)}}},[t._v(t._s(t.btnTitle))])],1),t._v(" "),a("toast",{attrs:{type:"warn"},model:{value:t.ethToast,callback:function(e){t.ethToast=e},expression:"ethToast"}},[t._v(t._s(t.error))]),t._v(" "),a("alert",{attrs:{title:t.$t("index.notice"),content:t.error},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),t._v(" "),t.isUnlock?a("password-confirm",{ref:"confirm",on:{setUnlock:t.setUnlock,unlocking:t.unlocking}}):t._e()],1)},$=[],k={render:f,staticRenderFns:$},x=k,b=a("vSla"),g=o,_=b(v,x,!1,g,"data-v-5295d2ee",null);e.default=_.exports},"zM+z":function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,"",""])}});